<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Configure Full Smashy Optimizer. — configure_smashy • smashy</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Configure Full Smashy Optimizer. — configure_smashy"><meta property="og:description" content='Create a OptimizerSmashy (or TunerSmashy) object with extended functionality from
basic building blocks. While basic Smashy-optimizers can be created with opt("smashy")
and tnr("smashy"), setting them up for functionality such as BOHB-like surrogate
model filtering or change of filter configuration over the course of optimization
can be difficult, hence this helper function. configure_smashy() should be used
when the extended functionality is desired.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">smashy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">
    <span class="fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mlr-org/smashy/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/" class="external-link">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Configure Full Smashy Optimizer.</h1>
    <small class="dont-index">Source: <a href="https://github.com/mlr-org/smashy/blob/HEAD/R/configure_smashy.R" class="external-link"><code>R/configure_smashy.R</code></a></small>
    <div class="hidden name"><code>configure_smashy.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a <code><a href="OptimizerSmashy.html">OptimizerSmashy</a></code> (or <code><a href="OptimizerSmashy.html">TunerSmashy</a></code>) object with extended functionality from
basic building blocks. While basic Smashy-optimizers can be created with <code>opt("smashy")</code>
and <code>tnr("smashy")</code>, setting them up for functionality such as BOHB-like surrogate
model filtering or change of filter configuration over the course of optimization
can be difficult, hence this helper function. <code>configure_smashy()</code> should be used
when the extended functionality is desired.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">configure_smashy</span><span class="op">(</span></span>
<span>  <span class="va">search_space</span>,</span>
<span>  <span class="va">budget_log_step</span>,</span>
<span>  <span class="va">mu</span>,</span>
<span>  survival_fraction <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>  sample <span class="op">=</span> <span class="st">"bohb"</span>,</span>
<span>  batch_method <span class="op">=</span> <span class="st">"smashy"</span>,</span>
<span>  filter_algorithm <span class="op">=</span> <span class="st">"tournament"</span>,</span>
<span>  surrogate_learner <span class="op">=</span> <span class="st">"knn1"</span>,</span>
<span>  filter_with_max_budget <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  filter_factor_first <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  filter_factor_last <span class="op">=</span> <span class="va">filter_factor_first</span>,</span>
<span>  filter_select_per_tournament <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  random_interleave_fraction <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>,</span>
<span>  filter_factor_first.end <span class="op">=</span> <span class="va">filter_factor_first</span>,</span>
<span>  filter_factor_last.end <span class="op">=</span> <span class="va">filter_factor_last</span>,</span>
<span>  filter_select_per_tournament.end <span class="op">=</span> <span class="va">filter_select_per_tournament</span>,</span>
<span>  random_interleave_fraction.end <span class="op">=</span> <span class="va">random_interleave_fraction</span>,</span>
<span>  random_interleave_random <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"Optimizer"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>search_space</dt>
<dd><p>(<code><a href="https://paradox.mlr-org.com/reference/ParamSet.html" class="external-link">ParamSet</a></code>)<br>
search space for which <code><a href="OptimizerSmashy.html">OptimizerSmashy</a></code> should be configured, has one parameter tagged 'budget'.
Must be the same search space as of the <code><a href="https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html" class="external-link">OptimInstanceSingleCrit</a></code> being
optimized with the resulting optimizer.<br>
The budget-parameter must be in log-scale; in most cases
this means that <code><a href="budget_to_logscale.html">budget_to_logscale()</a></code> must be called on the search space. Note that this should
be done <em>before</em> <code><a href="https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html" class="external-link">OptimInstanceSingleCrit</a></code> is created with it, see
examples.</p></dd>


<dt>budget_log_step</dt>
<dd><p>(<code>numeric(1)</code>)<br><code><a href="https://rdrr.io/r/base/Log.html" class="external-link">log()</a></code> of budget fidelity steps to make. E.g. <code>log(2)</code> for doubling. Must always be on log scale.</p></dd>


<dt>mu</dt>
<dd><p>(<code>integer(1)</code>)<br>
Population size, must be at least 2.</p></dd>


<dt>survival_fraction</dt>
<dd><p>(<code>numeric(1)</code>)<br>
Fraction of individuals that survive each round. Must be between 0 and 1. If <code>mu</code> is very large,
it is decreased so that <code>round(mu * survival_fraction)</code> is &lt; <code>survival_fraction</code>. Defaults to <code>1 / 3</code>.</p></dd>


<dt>sample</dt>
<dd><p>(<code>character(1)</code>)<br>
Sampling mechanism: Must be either <code>"random"</code> (sample uniformly at random), or <code>"bohb"</code> (use
BOHB sampling from kernel density estimate of well performing points). Default <code>"bohb"</code>.</p></dd>


<dt>batch_method</dt>
<dd><p>(<code>character(1)</code>)<br>
Fidelity schedule, one of <code>"smashy"</code> or <code>"hb"</code>. <code>"smashy"</code> uses synchronized batches, <code>"hb"</code>
does scheduling similar to Hyperband, but generalized for possibly disagreeing values of
<code>budget_log_step</code> and <code>survival_fraction</code>. For true Hyperband (up to rounding), set <code>budget_log_step</code> to
<code>log(survival_fraction)</code> and <code>mu</code> to <code>survival_fraction ^ -fidelity_steps</code> (where <code>fidelity_steps</code>
counts from 0 for "no step, only highest budget is evaluated"). Defaults to <code>"smashy"</code>.</p></dd>


<dt>filter_algorithm</dt>
<dd><p>(<code>character(1)</code>)<br>
One of <code>"tournament"</code> (using <code><a href="dict_filtors_surtour.html">FiltorSurrogateTournament</a></code>) or <code>"progressive"</code>
(using <code><a href="dict_filtors_surprog.html">FiltorSurrogateProgressive</a></code>). Defaults to <code>"tournament"</code>.</p></dd>


<dt>surrogate_learner</dt>
<dd><p>(<code>character(1)</code>)<br>
Surrogate learner to use for filtering. One of <code>"knn1"</code>, <code>"knn7"</code> (KNN with <code>k</code> = 1 or <code>k</code> = 7, respectively),
<code>"ranger"</code> (random forest) or <code>"bohblrn"</code> (emulating the TPE used in the BOHB paper). Defaults to <code>"knn1"</code>.</p></dd>


<dt>filter_with_max_budget</dt>
<dd><p>(<code>logical(1)</code>)<br>
Whether to use the surrogate learner to predict performance at the maximum budget value that has been
evaluated thus far, or at the budget value being currently evaluated. Behavour of these only disagrees
once at least one full-budget configuration has been evaluated. Default <code>TRUE</code>.</p></dd>


<dt>filter_factor_first</dt>
<dd><p>(<code>numeric(1)</code>)<br>
When filtering the first configuration using the <code><a href="dict_filtors_surtour.html">FiltorSurrogateTournament</a></code> or <code><a href="dict_filtors_surprog.html">FiltorSurrogateProgressive</a></code>,
how many random samples to consider. Corresponds to <code>filter.tournament_size/filter.per_tournament</code> in
<code><a href="dict_filtors_surtour.html">FiltorSurrogateTournament</a></code>
and <code>filter.pool_factor</code> in <code><a href="dict_filtors_surprog.html">FiltorSurrogateProgressive</a></code>. Default 100.<br>
Note the <em>Simulated Annealing</em> section about <code>filter_factor_first.end</code>.</p></dd>


<dt>filter_factor_last</dt>
<dd><p>(<code>numeric(1)</code>)<br>
When filtering the last configuration using the <code><a href="dict_filtors_surtour.html">FiltorSurrogateTournament</a></code> or <code><a href="dict_filtors_surprog.html">FiltorSurrogateProgressive</a></code>,
how many random samples to consider. Corresponds to <code>filter.tournament_size_last/filter.per_tournament</code> in
<code><a href="dict_filtors_surtour.html">FiltorSurrogateTournament</a></code>
and <code>filter.pool_factor_last</code> in <code><a href="dict_filtors_surprog.html">FiltorSurrogateProgressive</a></code>. Default to the value given to
<code>filter_factor_first</code>.
Note the <em>Simulated Annealing</em> section about <code>filter_factor_last.end</code>.</p></dd>


<dt>filter_select_per_tournament</dt>
<dd><p>(<code>integer(1)</code>)<br>
Only when <code>filter_algorithm</code> is <code>"tournament"</code>: How many configurations to draw per tournament. Corresponds
to <code>filter.per_tournament</code> of <code><a href="dict_filtors_surtour.html">FiltorSurrogateTournament</a></code>. Must be at least 1. Defaults to 1.
Note the <em>Simulated Annealing</em> section about <code>filter_select_per_tournament.end</code>.</p></dd>


<dt>random_interleave_fraction</dt>
<dd><p>(<code>numeric(1)</code>)<br>
How many configurations to not filter using the surrogate in each generation and to instead draw
randomly using the <code>sample</code> method. Must be between 0 and 1, where a value of 1 means no surrogate-based filtering
is done at all, all values are drawn randomly. Defaults to <code>1 / 3</code>.<br>
Note the <em>Simulated Annealing</em> section about <code>random_interleave_fraction.end</code>.</p></dd>


<dt>filter_factor_first.end</dt>
<dd><p>(<code>numeric(1)</code>)<br>
Corresponds to <code>filter_factor_first</code>, see the <em>Simulated Annealing</em> section.</p></dd>


<dt>filter_factor_last.end</dt>
<dd><p>(<code>numeric(1)</code>)<br>
Corresponds to <code>filter_factor_last</code>, see the <em>Simulated Annealing</em> section.</p></dd>


<dt>filter_select_per_tournament.end</dt>
<dd><p>(<code>integer(1)</code>)<br>
Corresponds to <code>filter_select_per_tournament</code>, see the <em>Simulated Annealing</em> section.</p></dd>


<dt>random_interleave_fraction.end</dt>
<dd><p>(<code>numeric(1)</code>)<br>
Corresponds to <code>random_interleave_fraction</code>, see the <em>Simulated Annealing</em> section.</p></dd>


<dt>random_interleave_random</dt>
<dd><p>(<code>logical(1)</code>)<br>
Whether during each sampling, a fixed fraction of <code>random_interleave_fraction</code> individuals
is drawn randomly (<code>FALSE</code>), or the number of individuals to draw randomly is itself random (<code>TRUE</code>).
In the latter case, each new configuration has an independent chance of being drawn randomly with
probability <code>random_interleave_fraction</code>. Default <code>TRUE</code>.</p></dd>


<dt>type</dt>
<dd><p>(<code>character(1)</code>)<br>
One of <code>"Optimizer"</code> or <code>"Tuner"</code>. What class to return: An <code><a href="https://bbotk.mlr-org.com/reference/Optimizer.html" class="external-link">Optimizer</a></code> for
optimizing <code><a href="https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html" class="external-link">OptimInstanceSingleCrit</a></code> objects, or a
<code><a href="https://mlr3tuning.mlr-org.com/reference/Tuner.html" class="external-link">Tuner</a></code> for tuning <code><a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a></code>s. Defaults to <code>"Optimizer"</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code><a href="OptimizerSmashy.html">OptimizerSmashy</a></code> or <code><a href="OptimizerSmashy.html">TunerSmashy</a></code>, depending on the <code>type</code> argument: The configured <em>Smashy</em> optimizer.</p>
    </div>
    <div id="simulated-annealing">
    <h2>Simulated Annealing</h2>
    

<p>For the function arguments <code>filter_factor_first</code>, <code>filter_factor_last</code>,
<code>select_per_tournament</code>, and <code>random_interleave_fraction</code>, it is possible to also give
corresponding <code>*.end</code> arguments.
When the corresponding <code>*.end</code> argument differs from the given value, then the effective
value changes over the course of optimization, starting at the given value and progressing
geometrically (for <code>filter_factor_first</code>, <code>filter_factor_last</code>, and <code>select_per_tournament</code>) or
linearly (for <code>random_interleave_fraction</code>) towards the <code>*.end</code>-value at the end.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other smashy configuration functions: 
<code><a href="budget_to_logscale.html">budget_to_logscale</a>()</code>,
<code><a href="smashy_as_bohb.html">smashy_as_bohb</a>()</code>,
<code><a href="smashy_as_hyperband.html">smashy_as_hyperband</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Define the objective to optimize</span></span></span>
<span class="r-in"><span><span class="co"># The 'budget' here simulates averaging 'b' samples from a noisy function</span></span></span>
<span class="r-in"><span><span class="va">objective</span> <span class="op">&lt;-</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/ObjectiveRFun.html" class="external-link">ObjectiveRFun</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">xs</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">xs</span><span class="op">$</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="va">xs</span><span class="op">$</span><span class="va">y</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="op">(</span><span class="fl">2</span> <span class="op">-</span> <span class="va">xs</span><span class="op">$</span><span class="va">x</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="op">(</span><span class="fl">2</span> <span class="op">-</span> <span class="va">xs</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">z</span> <span class="op">&lt;-</span> <span class="va">z</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">xs</span><span class="op">$</span><span class="va">b</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Obj <span class="op">=</span> <span class="va">z</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span>,</span></span>
<span class="r-in"><span>  domain <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, b <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_int</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  codomain <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span>Obj <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span>tags <span class="op">=</span> <span class="st">"maximize"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">search_space_proto</span> <span class="op">=</span> <span class="va">objective</span><span class="op">$</span><span class="va">domain</span><span class="op">$</span><span class="fu">search_space</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/to_tune.html" class="external-link">to_tune</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/to_tune.html" class="external-link">to_tune</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  b <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/to_tune.html" class="external-link">to_tune</a></span><span class="op">(</span><span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_int</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">^</span><span class="fl">10</span>, tags <span class="op">=</span> <span class="st">"budget"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">search_space</span> <span class="op">=</span> <span class="fu"><a href="budget_to_logscale.html">budget_to_logscale</a></span><span class="op">(</span><span class="va">search_space_proto</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get a new OptimInstance. Here we determine that the optimizatoin goes</span></span></span>
<span class="r-in"><span><span class="co"># for 10 full budget evaluations (10 * 2^100)</span></span></span>
<span class="r-in"><span><span class="va">oi</span> <span class="op">&lt;-</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html" class="external-link">OptimInstanceSingleCrit</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">objective</span>,</span></span>
<span class="r-in"><span>  search_space <span class="op">=</span> <span class="va">search_space</span>,</span></span>
<span class="r-in"><span>  terminator <span class="op">=</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/trm.html" class="external-link">trm</a></span><span class="op">(</span><span class="st">"budget"</span>, budget <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="fl">2</span><span class="op">^</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># smashy is designed with parallel evaluation in mind. It is</span></span></span>
<span class="r-in"><span><span class="co"># recommended to run</span></span></span>
<span class="r-in"><span><span class="co"># &gt; future::plan("multisession") (windows, or in RStudio)</span></span></span>
<span class="r-in"><span><span class="co"># or</span></span></span>
<span class="r-in"><span><span class="co"># &gt; future::plan("multicore") (Linux without RStudio)</span></span></span>
<span class="r-in"><span><span class="co"># and then set `mu` to a multiple of the number of CPU cores.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">smashy</span> <span class="op">=</span> <span class="fu">configure_smashy</span><span class="op">(</span><span class="va">search_space</span>, budget_log_step <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>, mu <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">smashy</span><span class="op">$</span><span class="fu">optimize</span><span class="op">(</span><span class="va">oi</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           x        y b  x_domain      Obj</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 1.769893 1.975496 0 &lt;list[3]&gt; 3.340931</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martin Binder.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

